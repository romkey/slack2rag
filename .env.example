# ── Docker image (optional) ───────────────────────────────────────────────────
# When set, docker compose pulls this image instead of building from source.
# The pre-built image is published to GHCR on every push to main.
# IMAGE=ghcr.io/<owner>/slack2rag:latest

# ── Required ──────────────────────────────────────────────────────────────────
# Bot token from https://api.slack.com/apps — needs scopes:
#   channels:read  channels:history  users:read
SLACK_BOT_TOKEN=xoxb-your-token-here

# ── Slack ─────────────────────────────────────────────────────────────────────
# Comma-separated channel names or IDs to index.
# Leave empty to index ALL public channels visible to the bot.
SLACK_CHANNELS=

# ── Qdrant ────────────────────────────────────────────────────────────────────
# Overridden to http://qdrant:6333 inside docker-compose; set for external use.
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=slack_messages

# ── Embeddings ────────────────────────────────────────────────────────────────
# "local"  — sentence-transformers, runs fully offline (default)
# "openai" — requires OPENAI_API_KEY, uses text-embedding-3-small
EMBEDDING_PROVIDER=local
LOCAL_EMBEDDING_MODEL=all-MiniLM-L6-v2

# Required only when EMBEDDING_PROVIDER=openai
OPENAI_API_KEY=
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ── Sync ──────────────────────────────────────────────────────────────────────
# Minutes between syncs (only relevant when not running one-shot).
SYNC_INTERVAL_MINUTES=60

# Set to "true" to run once and exit (useful for cron / k8s jobs).
RUN_ONCE=false

# How many messages to embed per batch (tune for memory vs. speed).
BATCH_SIZE=50
